\documentclass{book}

\usepackage{ifthen}
\usepackage{currfile}

\usepackage{hyperref}

\ifcurrfile{\currfilename}{default.tex}{
    \usepackage{footmisx}
}{
    \typeout{\jobname}
    \usepackage[\jobname]{footmisx}
}

\usepackage[showcrop,showframe]{geometry}
\usepackage{blindtext}

\begin{document}
\begin{figure}[b]
Test of figure
\caption{figure}
\end{figure}
\blindtext
Put a footnote\footnote{A footnote}.

\Blindtext[3][4]
\newpage
\blindtext
\footnote{A: \blindtext}.
\blindtext
\footnote{B: \blindtextÂ \label{foot:B}}.
A ref to foot B on this page\footref{foot:B}.
\newpage
\blindtext
\footnote{A: \blindtext}%
\footnote{B: \blindtext}

\newpage
A ref to previous page footnote\footref{foot:B}
\blindtext
\begin{figure}
\begin{minipage}{0.7\textwidth}
Ipso Ipso
\footnote{A test}
A minipage footnote mark\mpfootnotemark
A minipage footnote mark\mpfootnotemark[5] for 5
A minipage footnote mark\mpfootnotemark for 4
\end{minipage}
\end{figure}
\blindtext

\newpage
\blindtext\footnotemark \footnotetext{A manual footnote}

\end{document}